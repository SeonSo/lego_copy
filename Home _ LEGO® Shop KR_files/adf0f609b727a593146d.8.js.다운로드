(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{Swin:function(n,e,t){"use strict";t.d(e,"a",(function(){return c}));var r=t("q1tI"),o=t.n(r),i=t("XIbt"),a=t("eTuP"),c=function(){return o.a.createElement(a.a,null,o.a.createElement(i.b,null))}},UMT9:function(n,e,t){"use strict";var r,o,i=t("NFLX"),a=t("q1tI"),c=t.n(a),l=t("lTCR"),u=t.n(l),s=t("fIYg"),d=t("c/gA"),m=t("RlS9"),f=t("KweH"),g=["cart","wishlist"];function p(n,e){return e||(e=n.slice(0)),n.raw=e,n}var b={category:u()(r||(r=p(["\n    fragment Header_Category on ContentstackCategory {\n      id\n      title\n      analyticsTitle\n      target {\n        ... on ContentTarget {\n          url\n          seeAllText\n        }\n        ... on ExternalTarget {\n          url\n          openNewWindow\n          seeAllText\n        }\n      }\n      tag\n      imageSrc {\n        ...ImageAsset\n      }\n      highlighted\n      thumbnailImage #Being used as a type for utility links. TODO: Yes, we need to change it https://legogroup.atlassian.net/browse/SET-4992\n      promoBlockPosition\n      promotionalBlocks {\n        id\n        title\n        description\n        imageSrc {\n          ...ImageAsset\n        }\n        analyticsTitle\n        target {\n          ... on ContentTarget {\n            url\n            seeAllText\n          }\n          ... on ExternalTarget {\n            url\n            openNewWindow\n            seeAllText\n          }\n        }\n      }\n    }\n\n    ","\n  "])),m.b.fragment)},v=u()(o||(o=p(["\n  query Categories {\n    primaryNavigation {\n      mainNavigation {\n        # Level 1\n        ...Header_Category\n        children {\n          # Level 2\n          ...Header_Category\n          children {\n            # Level 3\n            ...Header_Category\n          }\n        }\n      }\n      utilityNavigation {\n        ...Header_Category\n      }\n      globalBanner {\n        title\n        banners {\n          id\n          __typename\n          ... on GlobalBannerSection {\n            id\n            title\n            section {\n              title\n              image\n              callToActionLink\n              callToActionText\n            }\n          }\n        }\n      }\n    }\n  }\n  ","\n"])),b.category);e.a=function(){var n=Object(d.a)();return n&&(n.hasUserData=!i.a.isServiceNavigation||"boolean"==typeof n.isLid),c.a.createElement(s.a,{key:"categories",query:v},(function(e){var t;if(null==e||null===(t=e.data)||void 0===t||!t.primaryNavigation)return null;var r=e.data.primaryNavigation,o=r.mainNavigation,i=r.utilityNavigation,a=r.globalBanner;if(!o)return null;var l=n||{},u=l.cart,s=l.wishlist,d=function(n,e){if(null==n)return{};var t,r,o={},i=Object.keys(n);for(r=0;r<i.length;r++)t=i[r],e.indexOf(t)>=0||(o[t]=n[t]);return o}(l,g);return c.a.createElement(f.a,{categories:o,utilityLinks:i,globalBanner:a,cart:u,user:d,wishlist:s})}))}},msch:function(n,e,t){"use strict";var r,o,i,a,c,l,u,s=t("q1tI"),d=t.n(s),m=t("lTCR"),f=t.n(m),g=t("fIYg"),p=t("0MgI");function b(n,e){return e||(e=n.slice(0)),n.raw=e,n}var v={footerSupport:f()(r||(r=b(["\n    fragment Footer_Support on FooterSupport {\n      imageUrl\n      title\n      subtitle\n      phone\n      email {\n        text\n        url\n      }\n      chat\n    }\n  "]))),footerLink:f()(o||(o=b(["\n    fragment Footer_Link on FooterLink {\n      title\n      url\n      imageUrl\n    }\n  "]))),footerGuarantee:f()(i||(i=b(["\n    fragment Footer_Guarantee on FooterLegoGuarantee {\n      title\n      links {\n        ...Footer_Link\n      }\n    }\n  "]))),footerEmailSubscription:f()(a||(a=b(["\n    fragment Footer_EmailSubscription on FooterEmailSubscription {\n      description\n      title\n      placeholderText\n      buttonText\n    }\n  "]))),footerSocial:f()(c||(c=b(["\n    fragment Footer_Social on FooterSocial {\n      title\n      links {\n        url\n        iconType\n      }\n    }\n  "]))),footerFindAStore:f()(l||(l=b(["\n    fragment Footer_FindAStore on FooterFindAStore {\n      title\n      subtitle\n    }\n  "])))},h=f()(u||(u=b(["\n  query FooterData {\n    footer {\n      title\n      support {\n        ...Footer_Support\n      }\n      legoGuarantee {\n        ...Footer_Guarantee\n      }\n      emailSubscription {\n        ...Footer_EmailSubscription\n      }\n      social {\n        ...Footer_Social\n      }\n      findAStore {\n        ...Footer_FindAStore\n      }\n      links {\n        ...Footer_Link\n        children {\n          ...Footer_Link\n        }\n      }\n      policyLinks {\n        ...Footer_Link\n      }\n      disclaimer\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"])),v.footerLink,v.footerSupport,v.footerGuarantee,v.footerEmailSubscription,v.footerSocial,v.footerFindAStore);e.a=function(){return d.a.createElement(g.a,{query:h},(function(n){var e=n.data;return!n.loading&&e&&e.footer?d.a.createElement(p.a,{footerContent:e.footer}):null}))}},qfJt:function(n,e,t){"use strict";t("TeQF"),t("zKZe");var r=t("q1tI"),o=t.n(r),i=t("qnxR"),a=t("uVGu"),c=t("nQC+"),l=t("B33w"),u=t("gSCk"),s=t("MaL9"),d=t("QxVr"),m=(t("2B1R"),t("m4Mt")),f=t("5P45"),g=t("vFDw"),p=t("vOnD"),b=p.d.div.withConfig({displayName:"ProductRecommendationsstyles__Wrapper",componentId:"sc-1anuv2e-0"})(["\n  margin: 0 auto;\n  margin-top: ",";\n  padding: ",";\n  background: ",";\n\n  ",";\n\n  ",";\n"],(function(n){return n.theme.sizing("lg")}),(function(n){return n.theme.sizing("ms")}),(function(n){return n.theme.color("white")}),(function(n){return n.theme.media.min("small")(Object(p.c)(["\n      padding-top: ",";\n      padding-bottom: ",";\n    "],n.theme.sizing("lg"),n.theme.sizing("lg")))}),(function(n){return n.theme.media.min("medium")(Object(p.c)(["\n      padding: "," ","\n        "," ",";\n      max-width: ",";\n      margin: auto;\n    "],n.theme.sizing("lg"),n.theme.sizing("xxl"),n.theme.sizing("xxl"),n.theme.sizing("xxl"),n.theme.maxWidth()))})),v=p.d.div.withConfig({displayName:"ProductRecommendationsstyles__Container",componentId:"sc-1anuv2e-1"})(["\n  padding: 0;\n  width: 100%;\n  max-width: 100%;\n\n  ",";\n"],(function(n){return n.theme.media.min("massive")(Object(p.c)(["\n      background: ",";\n    "],n.theme.color("white")))})),h=function(n){var e=n.id,t=n.recommendations,i=n.onRef,a=n.titleData,c=n.onCart,l=n.visibilityTracking,u=Object(d.a)().handleInteraction,s=Object(m.a)(),p=a.isCmsContent,h=void 0!==p&&p,S=a.title,y=a.showTitle,C=void 0!==y&&y,w=h?S:s("recommended.title"),I=Object(r.useMemo)((function(){return t.map((function(n){return{product:n}}))}),[t]);return o.a.createElement(v,null,o.a.createElement(b,{"data-test":"product-recommended",ref:i},o.a.createElement(g.a,{title:w,showTitle:h&&C||!h,"data-test":"recommendations",products:I,visibilityTracking:l,renderProduct:function(n){return o.a.createElement(f.a,{recommendationId:e,componentType:"CarouselProductLeaf",product:n.product,onClickLink:function(){u(n.product.productCode,e)},onCart:c})}})))},S=function(n){var e=n.onRef;return o.a.createElement("div",{"data-test":"product-recommended",ref:e})},y=t("rpc3");e.a=function(n){var e,t=n.productCode,m=n.siteArea,f=n.isCmsContent,g=void 0!==f&&f,p=n.title,b=n.showTitle,v=void 0!==b&&b,C=n.onIntersection,w=n.orderedItems,I=Object(s.a)(t,w),k=I.fetched,T=I.recommendationData,_=I.renderRecommendations,F=Object(i.a)(),O=Object(d.a)(),E=O.reportRecsLoaded,j=O.handleIntersection,A=Object(r.useState)(null),x=A[0],L=A[1],R=Object(r.useState)(!1),$=R[0],P=R[1],N=Object(r.useRef)(x),q=Object(r.useRef)(!0),B=Object(r.useState)(void 0),z=B[0],D=B[1],G=Object(r.useState)(null),H=G[0],V=G[1],M=Object(r.useState)(!1),Q=M[0],U=M[1],W=function(n){P(n),C&&C()},J=function(){if(_){e&&(e.unsubscribe(),e=void 0);var r=Object(c.d)(),o=Object(c.b)();if(r&&n.siteArea){var i=F.watchQuery({query:y.a,fetchPolicy:"network-only",variables:Object.assign({siteArea:m,productCode:t,sessionCookieId:r,crossSessionCookieId:o},T)});e=i.subscribe((function(n){n.data&&!n.errors&&function(n){var e=n&&n.recommender;if(e){var t=e.recommendations,r=t&&t.length?t.filter((function(n){var e=function(n){var e,t;return"SingleVariantProduct"===n.__typename?null!=(e=n)?e.variant:e:"MultiVariantProduct"===n.__typename?null!=(t=n)&&null!=(t=t.variants)?t[0]:t:null}(n);return e&&e.attributes&&e.attributes.canAddToBag})):[];V(r),D(e.id)}}(n.data)}))}}};if(Object(a.a)((function(){U(!0)})),Object(r.useEffect)((function(){return E(z)}),[z,E]),Object(r.useEffect)((function(){if(k)return J(),function(){e&&e.unsubscribe()}}),[k,t,m,_]),Object(r.useEffect)((function(){$&&x&&z&&(q.current||N.current&&N.current<x)&&(N.current=x,q.current=!1,j($,z,x))}),[z,j,x,$,N]),!Q||!z||!H)return null;var Y=z&&(!H||!H.length);return _?o.a.createElement(u.a,{onIntersection:function(n){return W(n)}},(function(n){var e=n.onRef;return Y?o.a.createElement(S,{onRef:e}):o.a.createElement(o.a.Fragment,null,o.a.createElement(h,{productCode:t,onRef:e,id:z,recommendations:H,titleData:{isCmsContent:g,showTitle:v,title:p},onCart:"SHOPPING_CART"===m,visibilityTracking:function(n){return function(n){L(n)}(n)}}),o.a.createElement(l.c,null))})):null}},rpc3:function(n,e,t){"use strict";t.d(e,"a",(function(){return u}));var r,o=t("lTCR"),i=t.n(o),a=t("DncS");var c,l,u=i()(r||(c=["\n  query ProductRecommendedQuery(\n    $siteArea: RecommendationSiteAreas!\n    $productCode: String\n    $cartItems: [String!]\n    $wishlistItems: [String!]\n    $recentlyViewed: [String!]\n    $sessionCookieId: String!\n    $crossSessionCookieId: String\n    $limit: Int = 12\n    $orderedItems: [String!]\n  ) {\n    recommender(\n      limit: $limit\n      siteArea: $siteArea\n      productCode: $productCode\n      cartItems: $cartItems\n      wishlistItems: $wishlistItems\n      recentlyViewedItems: $recentlyViewed\n      orderedItems: $orderedItems\n      sessionCookieId: $sessionCookieId\n      crossSessionCookieId: $crossSessionCookieId\n    ) {\n      id\n      recommendations {\n        ...Product_ProductItem\n      }\n    }\n  }\n\n  ","\n"],l||(l=c.slice(0)),c.raw=l,r=c),a.a)}}]);
//# sourceMappingURL=adf0f609b727a593146d.8.js.map